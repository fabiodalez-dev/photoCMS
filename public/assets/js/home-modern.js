import{L as j}from"../assets/lenis-BjYqGEZM.js";document.addEventListener("DOMContentLoaded",function(){const l=()=>window.innerWidth<768,E=new j({duration:2,easing:e=>1-Math.pow(1-e,4),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1,touchMultiplier:1.5,wheelMultiplier:.8});function _(e){E.raf(e),requestAnimationFrame(_)}requestAnimationFrame(_);const r=document.querySelector(".inf-work_list"),A=document.querySelector(".work-layout");let d=Array.from(document.querySelectorAll(".inf-work_item")),f=!1,p=!1,S=0,g=0,v=0,c=0,m=0;const q=8,I=e=>{e.forEach(t=>{t.style.transform=""})},x=()=>{if(!r||d.length===0)return;const e=Array.from(document.querySelectorAll(".inf-work_item:not(.is-clone)")),t=e.length;if(t>=q||t===0)return;const s=Math.ceil(q/t)*t-t;for(let o=0;o<s;o++){const i=e[o%t].cloneNode(!0);i.classList.add("is-clone"),i.removeAttribute("id"),r.appendChild(i)}d=Array.from(document.querySelectorAll(".inf-work_item")),M(),H()},h=(e,t)=>{l()||!p||f||t.forEach((s,o)=>{const a=((o*c+e)%m+m)%m-c;s.style.transform=`translate(0px, ${a}px)`})},D=()=>{if(!r||d.length===0||l()){r&&(r.classList.add("simple-layout"),I(d));return}x();const e=Array.from(document.querySelectorAll(".inf-work_item")),t=e.filter((i,a)=>a%2===0),s=e.filter((i,a)=>a%2===1);if(e.length<4){r.classList.add("simple-layout"),e.forEach(i=>i.classList.add("is-visible"));return}p=!0,r.classList.remove("simple-layout"),r.classList.remove("filtered-layout"),c=e[0].clientHeight||400,m=e.length/2*c,h(0,t),h(0,s),e.forEach(i=>i.classList.add("is-visible"));const o=i=>{l()||!p||f||(S-=i.deltaY)};A&&(A.removeEventListener("wheel",o),A.addEventListener("wheel",o,{passive:!0}));const n=()=>{if(requestAnimationFrame(n),l()||!p||f)return;const i=Array.from(document.querySelectorAll(".inf-work_item")),a=i.filter((y,L)=>L%2===0),u=i.filter((y,L)=>L%2===1);if(i[0]){const y=i[0].clientHeight;y!==c&&y>0&&(c=y,m=i.length/2*c)}g=g+(S-g)*.09,v=v+(S-v)*.08,h(g,a),h(v,u)};n()},b=document.querySelectorAll(".grid-toggle_item[data-filter]"),N=()=>{r&&(f=!0,I(d),r.classList.add("filtered-layout"),r.classList.remove("simple-layout"))},$=()=>{if(r&&(f=!1,r.classList.remove("filtered-layout"),!l())){const e=Array.from(document.querySelectorAll(".inf-work_item")),t=e.filter((o,n)=>n%2===0),s=e.filter((o,n)=>n%2===1);p&&(h(g,t),h(v,s))}};b.forEach(e=>{e.addEventListener("click",function(t){const s=this.getAttribute("data-filter");if(s!=="all"&&this.tagName.toLowerCase()==="a")return;t.preventDefault(),b.forEach(i=>i.classList.remove("is-active")),this.classList.add("is-active");const o=Array.from(document.querySelectorAll(".inf-work_item"));s==="all"?(o.forEach(i=>{i.style.display=""}),$()):(N(),o.forEach(i=>{i.classList.contains("category-"+s)?i.style.display="":i.style.display="none"}));const n=document.querySelector(".case-studies_total");if(n){const i=document.querySelectorAll('.inf-work_item:not([style*="display: none"])');n.textContent=i.length}})});const M=()=>{const e=document.querySelectorAll("[data-inf-item]"),t=document.querySelector(".image-grid-info_holder"),s=document.querySelector("[data-image-grid-title]"),o=document.querySelector("[data-image-grid-copy]");e.forEach(n=>{if(n.dataset.hoverSetup)return;n.dataset.hoverSetup="true";const i=n.getAttribute("data-work-title")||"",a=n.getAttribute("data-work-copy")||"";n.addEventListener("mouseenter",function(){l()||(this.classList.add("highlight"),e.forEach(u=>{u!==this&&u.classList.add("fadeout")}),t&&t.classList.add("show"),s&&(s.textContent=i),o&&(o.textContent=a))}),n.addEventListener("mouseleave",function(){l()||(this.classList.remove("highlight"),e.forEach(u=>{u.classList.remove("fadeout")}),t&&t.classList.remove("show"))}),n.addEventListener("click",function(u){if(!l())return;this.classList.contains("show-description")||(u.preventDefault(),e.forEach(L=>{L.classList.remove("show-description")}),this.classList.add("show-description"))})})},T=document.querySelector(".menu-btn"),C=document.querySelector(".menu-close"),w=document.querySelector(".menu-component");function B(){w&&(w.classList.add("is-open"),document.body.style.overflow="hidden",E.stop())}function k(){w&&(w.classList.remove("is-open"),document.body.style.overflow="",E.start())}T&&T.addEventListener("click",B),C&&C.addEventListener("click",k),document.addEventListener("keydown",function(e){e.key==="Escape"&&k()}),document.querySelectorAll(".mega-menu_link.is-current").forEach(e=>{e.addEventListener("click",function(t){t.preventDefault(),k()})});const F=document.querySelector(".page-transition"),H=()=>{document.querySelectorAll(".inf-work_link").forEach(t=>{t.dataset.transitionSetup||(t.dataset.transitionSetup="true",t.addEventListener("click",function(s){if(l()){const n=this.closest(".inf-work_item");if(!n||!n.classList.contains("show-description"))return}s.preventDefault();const o=this.getAttribute("href");F?(F.classList.add("is-active"),setTimeout(()=>{window.location.href=o},600)):window.location.href=o}))})},P=()=>{const e=document.querySelectorAll(".inf-work_item img"),t=window.innerHeight;e.forEach(s=>{const o=s.getBoundingClientRect();o.top<t&&o.bottom>0&&(s.setAttribute("fetchpriority","high"),s.removeAttribute("loading"))})},Y=()=>{const e=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&(o.target.classList.add("is-visible"),e.unobserve(o.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".inf-work_item").forEach(s=>{s.classList.contains("is-visible")||e.observe(s)})};P(),D(),M(),H(),Y();let O;window.addEventListener("resize",()=>{clearTimeout(O),O=setTimeout(()=>{if(l())I(d),r==null||r.classList.add("simple-layout");else if(!f){const e=Array.from(document.querySelectorAll(".inf-work_item"));e[0]&&(c=e[0].clientHeight,m=e.length/2*c)}},100)})});
