import{L as z}from"../assets/lenis-BjYqGEZM.js";document.addEventListener("DOMContentLoaded",function(){const l=()=>window.innerWidth<768;let d=null;if(!l()){let t=function(e){d.raf(e),requestAnimationFrame(t)};d=new z({duration:2,easing:e=>1-Math.pow(1-e,4),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1,touchMultiplier:1.5,wheelMultiplier:.8}),requestAnimationFrame(t)}const n=document.querySelector(".inf-work_list"),A=document.querySelector(".work-layout");let u=Array.from(document.querySelectorAll(".inf-work_item")),c=[],E=[],I=[],f=!1,p=!1,k=0,y=0,g=0,a=0,m=0;const _=8,v=()=>{c=Array.from(document.querySelectorAll(".inf-work_item")),u=c,E=c.filter((t,e)=>e%2===0),I=c.filter((t,e)=>e%2===1)};v();const q=t=>{t.forEach(e=>{e.style.transform=""})},O=()=>{if(!n||u.length===0)return;const t=Array.from(document.querySelectorAll(".inf-work_item:not(.is-clone)")),e=t.length;if(e>=_||e===0)return;const o=Math.ceil(_/e)*e-e;for(let i=0;i<o;i++){const s=t[i%e].cloneNode(!0);s.classList.add("is-clone"),s.removeAttribute("id"),n.appendChild(s)}v()},h=(t,e)=>{l()||!p||f||e.forEach((o,i)=>{const L=((i*a+t)%m+m)%m-a;o.style.transform=`translate(0px, ${L}px)`})},x=()=>{if(v(),!n||u.length===0||l()){n&&(n.classList.add("simple-layout"),q(u));return}O();const t=c,e=E,o=I;if(t.length<4){n.classList.add("simple-layout"),t.forEach(s=>s.classList.add("is-visible"));return}p=!0,n.classList.remove("simple-layout"),n.classList.remove("filtered-layout"),a=t[0].clientHeight||400,m=t.length/2*a,h(0,e),h(0,o),t.forEach(s=>s.classList.add("is-visible"));const i=s=>{l()||!p||f||(k-=s.deltaY)};A&&(A.removeEventListener("wheel",i),A.addEventListener("wheel",i,{passive:!0}));const r=()=>{if(l()||!p||f){setTimeout(()=>requestAnimationFrame(r),500);return}requestAnimationFrame(r);const s=E,L=I;if(c[0]){const w=c[0].clientHeight;w!==a&&w>0&&(a=w,m=c.length/2*a)}y=y+(k-y)*.09,g=g+(k-g)*.08,h(y,s),h(g,L)};r()},M=document.querySelectorAll(".grid-toggle_item[data-filter]"),D=()=>{n&&(f=!0,q(u),n.classList.add("filtered-layout"),n.classList.remove("simple-layout"))},N=()=>{if(n&&(f=!1,n.classList.remove("filtered-layout"),!l())){v();const t=E,e=I;p&&(h(y,t),h(g,e))}};M.forEach(t=>{t.addEventListener("click",function(e){const o=this.getAttribute("data-filter");if(o!=="all"&&this.tagName.toLowerCase()==="a")return;e.preventDefault(),M.forEach(s=>s.classList.remove("is-active")),this.classList.add("is-active");const i=Array.from(document.querySelectorAll(".inf-work_item"));o==="all"?(i.forEach(s=>{s.style.display=""}),N()):(D(),i.forEach(s=>{s.classList.contains("category-"+o)?s.style.display="":s.style.display="none"}));const r=document.querySelector(".photos_total");if(r){const s=document.querySelectorAll('.inf-work_item:not([style*="display: none"])');r.textContent=s.length}})});const $=()=>{const t=document.querySelectorAll("[data-inf-item]"),e=document.querySelector(".image-grid-info_holder"),o=document.querySelector("[data-image-grid-title]"),i=document.querySelector("[data-image-grid-copy]");t.forEach(r=>{if(r.dataset.hoverSetup)return;r.dataset.hoverSetup="true";const s=r.getAttribute("data-work-title")||"",L=r.getAttribute("data-work-copy")||"";r.addEventListener("mouseenter",function(){l()||(this.classList.add("highlight"),n&&n.classList.add("has-hover"),e&&e.classList.add("show"),o&&(o.textContent=s),i&&(i.textContent=L))}),r.addEventListener("mouseleave",function(){l()||(this.classList.remove("highlight"),n&&n.classList.remove("has-hover"),e&&e.classList.remove("show"))}),r.addEventListener("click",function(w){if(!l())return;this.classList.contains("show-description")||(w.preventDefault(),t.forEach(R=>{R.classList.remove("show-description")}),this.classList.add("show-description"))})})},T=document.querySelector(".menu-btn"),C=document.querySelector(".menu-close"),S=document.querySelector(".menu-component");function B(){S&&(S.classList.add("is-open"),document.body.style.overflow="hidden",d&&d.stop())}function b(){S&&(S.classList.remove("is-open"),document.body.style.overflow="",d&&d.start())}T&&T.addEventListener("click",B),C&&C.addEventListener("click",b),document.addEventListener("keydown",function(t){t.key==="Escape"&&b()}),document.querySelectorAll(".mega-menu_link.is-current").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),b()})});const F=document.querySelector(".page-transition"),P=()=>{document.querySelectorAll(".inf-work_link").forEach(e=>{e.dataset.transitionSetup||(e.dataset.transitionSetup="true",e.addEventListener("click",function(o){if(l()){const r=this.closest(".inf-work_item");if(!r||!r.classList.contains("show-description"))return}o.preventDefault();const i=this.getAttribute("href");F?(F.classList.add("is-active"),setTimeout(()=>{window.location.href=i},600)):window.location.href=i}))})},Y=()=>{const t=document.querySelectorAll(".inf-work_item img"),e=window.innerHeight;t.forEach(o=>{const i=o.getBoundingClientRect();i.top<e&&i.bottom>0&&(o.setAttribute("fetchpriority","high"),o.removeAttribute("loading"))})},j=()=>{const t=new IntersectionObserver(o=>{o.forEach(i=>{i.isIntersecting&&(i.target.classList.add("is-visible"),t.unobserve(i.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".inf-work_item").forEach(o=>{o.classList.contains("is-visible")||t.observe(o)})};Y(),x(),$(),P(),j();let H;window.addEventListener("resize",()=>{clearTimeout(H),H=setTimeout(()=>{l()?(q(u),n==null||n.classList.add("simple-layout")):f||(v(),c[0]&&(a=c[0].clientHeight,m=c.length/2*a))},100)})});
