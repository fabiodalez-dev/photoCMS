import"./home-gallery.js";import"../assets/lenis-BjYqGEZM.js";function P(t){document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)}P(()=>{const t=document.getElementById("albums-carousel");if(!t)return;const a=t.parentElement,d=t.querySelectorAll(".album-carousel-item");if(!d.length)return;let n=0,m=0,i=!1,r=0,s=null;const u=()=>{const e=d[0],g=getComputedStyle(e);return e.offsetWidth+parseFloat(g.marginLeft)+parseFloat(g.marginRight)},h=u()*d.length,c=()=>{t.style.transform=`translate3d(${n}px, 0, 0)`},o=e=>e.type.includes("mouse")?e.clientX:e.touches[0].clientX,l=window.matchMedia&&window.matchMedia("(max-width: 767px)").matches,f=()=>{n-=.6,Math.abs(n)>=h&&(n=0),c(),s=requestAnimationFrame(f)};l||(s=requestAnimationFrame(f));const v=e=>{e.preventDefault(),e.stopPropagation(),i=!0,r=o(e),m=n,s&&(cancelAnimationFrame(s),s=null),t.classList.add("dragging"),document.body.style.userSelect="none"},E=e=>{if(!i)return;e.preventDefault(),e.stopPropagation();const A=o(e)-r;n=m+A,c()},p=()=>{const e=u()*d.length;Math.abs(n)>=e&&(n=n%e),n>0&&(n=-e+n%e)},y=()=>{i&&(i=!1,t.classList.remove("dragging"),document.body.style.userSelect="",p(),c(),l||setTimeout(()=>{s||(s=requestAnimationFrame(f))},1200))};t.addEventListener("mousedown",v),t.addEventListener("mousemove",E),t.addEventListener("mouseup",y),t.addEventListener("mouseleave",y),t.addEventListener("touchstart",v,{passive:!1}),t.addEventListener("touchmove",E,{passive:!1}),t.addEventListener("touchend",y),t.addEventListener("dragstart",e=>e.preventDefault()),t.addEventListener("selectstart",e=>e.preventDefault()),l||(a.addEventListener("mouseenter",()=>{s&&(cancelAnimationFrame(s),s=null)}),a.addEventListener("mouseleave",()=>{!s&&!i&&(s=requestAnimationFrame(f))}));const L=a.parentElement.querySelector(".albums-arrow-left"),w=a.parentElement.querySelector(".albums-arrow-right"),M=()=>u()*1,b=()=>{n+=M(),p(),c()},q=()=>{n-=M(),p(),c()};L&&L.addEventListener("click",b),w&&w.addEventListener("click",q)});(function(){function t(a){document.readyState!=="loading"?a():document.addEventListener("DOMContentLoaded",a)}t(()=>{const a=document.getElementById("home-infinite-gallery");if(!a)return;const d=document.querySelector(".home-mobile-wrap"),n=document.querySelector(".home-desktop-wrap"),m=()=>{!d||!n||(window.innerWidth>=768?(d.style.display="none",n.style.display="flex"):(d.style.display="block",n.style.display="none"))};m();let i=null;window.addEventListener("resize",()=>{i||(i=requestAnimationFrame(()=>{m(),i=null}))}),a.style.opacity="1";const r=Array.from(a.querySelectorAll(".home-item"));if(!r.length)return;if(r.length>600){r.forEach(o=>o.classList.add("home-item--revealed"));return}r.forEach(o=>o.classList.add("home-item--hidden"));const s=o=>{o.classList.remove("home-item--hidden"),o.classList.add("home-item--revealed")};if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){r.forEach(s);return}const h=Math.max(8,Math.floor(6e3/r.length));r.map(o=>({item:o,key:Math.random()})).sort((o,l)=>o.key-l.key).map(({item:o})=>o).forEach((o,l)=>{setTimeout(()=>s(o),h*l)})})})();
