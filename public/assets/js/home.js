import"./home-gallery.js";import"../assets/lenis-BjYqGEZM.js";function q(t){document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)}q(()=>{const t=document.getElementById("albums-carousel");if(!t)return;const r=t.parentElement,a=t.querySelectorAll(".album-carousel-item");if(!a.length)return;let n=0,l=0,s=!1,i=0,o=null;const u=()=>{const e=a[0],v=getComputedStyle(e);return e.offsetWidth+parseFloat(v.marginLeft)+parseFloat(v.marginRight)},b=u()*a.length,d=()=>{t.style.transform=`translate3d(${n}px, 0, 0)`},h=e=>e.type.includes("mouse")?e.clientX:e.touches[0].clientX,m=window.matchMedia&&window.matchMedia("(max-width: 767px)").matches,c=()=>{n-=.6,Math.abs(n)>=b&&(n=0),d(),o=requestAnimationFrame(c)};m||(o=requestAnimationFrame(c));const p=e=>{e.preventDefault(),e.stopPropagation(),s=!0,i=h(e),l=n,o&&(cancelAnimationFrame(o),o=null),t.classList.add("dragging"),document.body.style.userSelect="none"},E=e=>{if(!s)return;e.preventDefault(),e.stopPropagation();const P=h(e)-i;n=l+P,d()},f=()=>{const e=u()*a.length;Math.abs(n)>=e&&(n=n%e),n>0&&(n=-e+n%e)},g=()=>{s&&(s=!1,t.classList.remove("dragging"),document.body.style.userSelect="",f(),d(),m||setTimeout(()=>{o||(o=requestAnimationFrame(c))},1200))};t.addEventListener("mousedown",p),t.addEventListener("mousemove",E),t.addEventListener("mouseup",g),t.addEventListener("mouseleave",g),t.addEventListener("touchstart",p,{passive:!1}),t.addEventListener("touchmove",E,{passive:!1}),t.addEventListener("touchend",g),t.addEventListener("dragstart",e=>e.preventDefault()),t.addEventListener("selectstart",e=>e.preventDefault()),m||(r.addEventListener("mouseenter",()=>{o&&(cancelAnimationFrame(o),o=null)}),r.addEventListener("mouseleave",()=>{!o&&!s&&(o=requestAnimationFrame(c))}));const y=r.parentElement.querySelector(".albums-arrow-left"),L=r.parentElement.querySelector(".albums-arrow-right"),w=()=>u()*1,M=()=>{n+=w(),f(),d()},S=()=>{n-=w(),f(),d()};y&&y.addEventListener("click",M),L&&L.addEventListener("click",S)});(function(){function t(r){document.readyState!=="loading"?r():document.addEventListener("DOMContentLoaded",r)}t(()=>{const r=document.getElementById("home-infinite-gallery");if(!r)return;r.style.opacity="1";const a=r.querySelectorAll(".home-item");if(!a.length)return;const n=s=>{s.classList.add("home-item--revealed")};if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){a.forEach(n);return}if("IntersectionObserver"in window){const s=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(n(o.target),s.unobserve(o.target))})},{rootMargin:"100px",threshold:.01});a.forEach(i=>s.observe(i))}else a.forEach(n)})})();
